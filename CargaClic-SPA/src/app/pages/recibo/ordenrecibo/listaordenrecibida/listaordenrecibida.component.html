
<div class="page-head">
    <h2 class="page-head-title">Listado de Órdenes de Recibo</h2>
   <!-- <nav aria-label="breadcrumb" role="navigation">
     <ol class="breadcrumb page-head-nav">
       <li class="breadcrumb-item"><a href="#">Home</a></li>
       <li class="breadcrumb-item active">Listado de Usuarios</li>
     </ol>
   </nav> -->
 </div>
 
 <div class="main-content container-fluid">
     <div class="col-md-12">
     <div class="card card-border-color card-border-color-primary">
         <div class="card-body">
             <div class="row">
           
                     <div class="col-md-4">
                       <label class="control-label" for="username">Intervalo:</label>
                        <mat-form-field class="input-form-field  col-sm-8 col-lg-6">
                           <mat-select  [(value)]="model.intervalo" >
                             <mat-option  *ngFor="let pow of clientes"  [value]="pow.val">
                                 {{pow.viewValue}}
                             </mat-option>
                           </mat-select>
                         </mat-form-field>
                     </div>
   
                 <div class="col-md-4">
                   <label class="control-label" for="username">Estado:</label>
                   <mat-form-field class="input-form-field  col-sm-8 col-lg-6">
                       <mat-select  [(value)]="model.estadoIdfiltro" >
                         <mat-option  *ngFor="let pow of estados"  [value]="pow.val">
                             {{pow.viewValue}}
                         </mat-option>
                       </mat-select>
                     </mat-form-field>
                 </div>
                 <div class="col-md-4">
                     
                       <button class="btn btn-block btn-primary"  (click)="edit(row.id)"  type="button">Buscar</button>
                     
                 </div>
              
               </div>
         </div>
     </div>
 
   </div>
 <div class="col-md-12">
 
 
   <div class="card card-border-color card-border-color-primary">
     <div class="card-header card-header-divider">
         
      <div class="row">
           <b> Ordenes de Recibo |  </b>  <span class="card-subtitle">   Listado de ordenes de recibo del sistema</span>
         </div>
       </div>
 
           <div class="search-div">
               <div class="input-container">
               <i class="fa fa-search"></i>
               <mat-form-field class="search-form-field" >
                 <input matInput [(ngModel)]="searchKey" placeholder="Filtrar..." autocomplete="off" (keyup)="applyFilter()">
               </mat-form-field>
               </div>
           </div>
    
 
     <div class="card-body">
         
         <div  class="mat-elevation-z8">
             <mat-table #table [dataSource] = "listData" matSort >
                <!-- Checkbox Column -->
                <ng-container matColumnDef="almacen">
                   <mat-header-cell *matHeaderCellDef mat-sort-header >  Almacén </mat-header-cell>
                   <mat-cell *matCellDef="let user"> {{user.almacen}} </mat-cell>
                 </ng-container>
 
 
                <ng-container matColumnDef="numOrden">
                 <mat-header-cell *matHeaderCellDef mat-sort-header> N° Orden</mat-header-cell>
                 <mat-cell  *matCellDef="let orden" > 
                     <!-- <button class="btn btn-space btn-outline-primary" (click)="ver(orden.ordenReciboId)"  type="button"> -->
                       <!-- <i class="mdi mdi-search"></i> -->
                       <!-- <a class="router-link"  (click)="ver(orden.ordenReciboId)"> OR{{orden.numOrden}}  </a> -->
                       <span class="label label-info pull-xs-center">{{orden.numOrden}}</span>
                     <!-- </button> -->
             
                 </mat-cell>
               </ng-container>
         
           
                 <ng-container matColumnDef="propietario">
                     <mat-header-cell *matHeaderCellDef mat-sort-header >  Propietario </mat-header-cell>
                     <mat-cell *matCellDef="let user"> {{user.propietario}} </mat-cell>
                   </ng-container>
           
                   <!-- [style.color]="'#ff0000'" -->
           
                
                 <ng-container matColumnDef="nombreEstado">
                     <mat-header-cell *matHeaderCellDef mat-sort-header> Estado  </mat-header-cell>
                     <mat-cell *matCellDef="let user"> 
 
                    <div *ngIf="user.nombreEstado == 'Planeado' then thenBlock else elseBlock"></div>
                   <ng-template #thenBlock>  <div  [style.color]="'#FFFFFF'" [style.background-color]="'#0c9811'">{{user.nombreEstado}}     </div>     </ng-template>
                   <ng-template #elseBlock>   <div>{{user.nombreEstado}}     </div>   </ng-template>  
                     </mat-cell>
                   </ng-container>
 
                   <ng-container matColumnDef="ubicacion">
                       <mat-header-cell *matHeaderCellDef mat-sort-header >  Ubicación </mat-header-cell>
                       <mat-cell *matCellDef="let user"> {{user.ubicacion}} </mat-cell>
                     </ng-container>
 
 
               <ng-container matColumnDef="EquipoTransporte">
                 <mat-header-cell *matHeaderCellDef> Equipo de Transporte </mat-header-cell>
                 <mat-cell *matCellDef="let user"> 
                   <div *ngIf="user.equipotransporte then thenBlock else elseBlock"></div>
                   <ng-template #thenBlock>  <div  [style.color]="'#FFFFFF'" [style.background-color]="'#0c9811'">{{user.equipotransporte}}     </div>     </ng-template>
                   <ng-template #elseBlock>  
                      Sin equipo 
                    </ng-template>  
                 
                   <!-- {{user.dateOfBirth | date:'dd-MM-yyyy' }}  -->
                 
                 </mat-cell>
               </ng-container>
                 
               <ng-container matColumnDef="Urgente">
                 <mat-header-cell *matHeaderCellDef> Urgente </mat-header-cell>
                 <mat-cell *matCellDef="let user">
                     <div *ngIf="user.urgente then thenBlock else elseBlock"></div>
                     <ng-template #thenBlock>  <div  [style.color]="'#FFFFFF'" [style.background-color]="'#0c9811'">Urgente     </div>     </ng-template>
                     <ng-template #elseBlock>Normal</ng-template>  
                 </mat-cell>
               </ng-container>
 
                   
 
                       <ng-container matColumnDef="fechaRegistro">
                           <mat-header-cell *matHeaderCellDef mat-sort-header> Fecha Registro</mat-header-cell>
                           <mat-cell *matCellDef="let user"> 
                               {{user.fechaRegistro | date:'dd-MM-yyyy' }} 
                           </mat-cell>
                         </ng-container>
 
 
            
                   <ng-container matColumnDef="actionsColumn">
                       <mat-header-cell *matHeaderCellDef>
                           <div class="example-button-row">
                               <button mat-fab ngbTooltip="Nueva Orden de Recibo" color="primary"  routerLink="/nuevaordenrecibo"> <i aria-hidden="true" class="fa fa-plus fa-1x"></i></button>
                           </div>
                
                          
                          
                       </mat-header-cell>
                       <mat-cell *matCellDef="let row">
                           <button class="btn btn-space btn-outline-primary" ngbTooltip="Iniciar recibo"  (click)="identificar(row.ordenReciboId)"  type="button"><i class="fas fa-sign-in-alt"></i></button>
                       </mat-cell>
                   </ng-container>
          
           
             <mat-header-row *matHeaderRowDef="displayedColumns; " ></mat-header-row>
             <mat-row *matRowDef="let row; columns: displayedColumns;" >
             <!-- [ngClass]="{'highlight': selectedRowIndex == row.id}"
             (click)="highlight(row)"> -->
 
             </mat-row>
           
           
             </mat-table>
 
 
            <mat-paginator [pageSizeOptions]="[ 10, 20, 50, 100]" [pageSize]="10" showFirstLastButtons></mat-paginator>
 
           </div>
         
     </div>
    
   </div>
 </div>
 </div>
 
 
 <ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '3px' }" [template]="customLoadingTemplate"></ngx-loading>